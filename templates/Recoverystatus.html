{% extends 'base.html' %}
{% load static %}
<body>
    {% block content %}
    <style>
          .ots-filter{
      width: 60%;
      min-width: 120px;
    }

    .select2-container .select2-selection--single{
      height: 33px;
    }

    .select2-container--default .select2-selection--single .select2-selection__rendered {
      line-height: 35px;
    }

    .select2-container--default .select2-selection--single{
      border-radius: 8px;
      background-color: #ffffff;
      box-shadow: 0px 0px 4px rgb(0 0 0 / 25%);
      border: none;
    }

    .select2-container--default .select2-selection--single .select2-selection__arrow{
      top: 4px;
    }

      .flatpickr-time{
display: none;
}
.fa-caret-downs{
        color: #197AA4;
        font-size: 11px;
        position: absolute;
        background-color: #fff;
        right: 3px;
        top: 6px;
        width: 12px;

      }

      .fa-caret-downs img{
        width: 8px;
        height: 5px;
      }
    </style>
  {% include "style.html" %}
    <div class="row">
      <div class="dash">Recovery Status</div>
      <div class="row">
        <div class="cal">
          <div class="column gx-5">
            From
            <div class= "cal-con" style="width: 90%;">
              <img class="cal-icon c1" src="{% static 'Images/cal.png' %}" alt="">
              <form action="">
                {% csrf_token %}
                <input class="form-control rfdate cal1" style="width: 100%;" type="datetime-local" placeholder="Select Date " >
              </form>
            </div>
          </div>
          <div class="column">
            <div class="flex-wrap">
              To
              <div class="cal-div">
                <div class= "cal-con" style="width: 90%;">
                  <img class="cal-icon c2" src="{% static 'Images/cal.png' %}" alt="">
                <form action="">
                  <input class="form-control rtodate cal2" type="datetime-local" placeholder="Select Date" >
                </form> 
                </div>
              </div>              
            </div>
          </div>
          <div class="column d-flex gap-2 align-items-end justify-content-end flex-wrap " style="width:30%">
            {% csrf_token %}
            <div class="ots-filter">
              <span style="color:black;font-size:15px;">Recovery status</span>
             
<div class="multiselect">                <div class="selectbox" onclick="showCheckBoxes()">
  <img src="{% static 'Images/filterby.png' %}" style="height: 13px; margin-top: 2px; width: 15.7px;" class="sort-icon" alt="">
           
                   <select class="customselect" >
                      <option value="">Filter By</option>
                   </select>
                   <div class="fa-caret-downs">
                    <img class="" src="{% static 'Images/caret.png'  %}" alt="">
                  </div>
                   <div class="overselect"></div>
                </div>
                <div id="checkboxes">
                  
                  <label for="ots" class="checkbox-wrapper">
                    <input type="checkbox" value="OTS Request" name="remcb" id="ots">
                    <label for="ots">OTS Request</label>
                  </label>
                  
                  <label for="set" class="checkbox-wrapper">
                    <input type="checkbox" value="Send FE To Collect" name="remcb" id="set">
                    <label for="set">Send FE To collect</label>
                  </label>

                  <label for="settlement" class="checkbox-wrapper">
                    <input type="checkbox" value="Settlement" name="remcb" id="settlement">
                    <label for="settlement">Settlement</label>
                  </label>

                  <label for="bp" class="checkbox-wrapper">
                    <input type="checkbox" value="Broken Promise" name="remcb" id="bp">
                    <label for="bp">Broken Promise To Pay</label>
                  </label>

                  <label for="Refused To Pay" class="checkbox-wrapper">
                    <input type="checkbox" value="Refused To Pay" name="remcb" id="Refused To Pay">
                    <label for="refusedtopay">Refused To Pay</label>
                  </label>

                  <label for="busy" class="checkbox-wrapper">
                    <input type="checkbox" value="Busy" name="remcb" id="busy">
                    <label for="busy">Busy</label>
                  </label>

                  <label for="nc" class="checkbox-wrapper">
                    <input type="checkbox" value="No-recall" name="remcb" id="nc">
                    <label for="nc">No-recall</label>
                  </label>
                  
                  <label for="rn" class="checkbox-wrapper">
                    <input type="checkbox" value="Ringing No Response" name="remcb" id="rn">
                    <label for="rn">Ringing No Response</label>
                  </label>
                  
                  <label for="cw" class="checkbox-wrapper">
                    <input type="checkbox" value="Call Waiting" name="remcb" id="cw">
                    <label for="cw">Call Waiting</label>
                  </label>

                  <label for="swm" class="checkbox-wrapper">
                    <input type="checkbox" value="Switch OFF" name="remcb" id="swm">
                    <label for="swm">Switched OFF</label>
                  </label>
                  
                   <label for="nr" class="checkbox-wrapper">
                    <input type="checkbox" value="Not Reachable" name="remcb" id="nr">
                    <label for="nr">Not Reachable</label>
                  </label>

                  <label for="wc" class="checkbox-wrapper">
                    <input type="checkbox" value="Wrong Contact" name="remcb" id="wc">
                    <label for="wc">Wrong Contact</label>
                  </label>

                  <label for="lnc" class="checkbox-wrapper">
                    <input type="checkbox" value="Language Not Communicable" name="remcb" id="lnc">
                    <label for="lnc">Language Not Communicable</label>
                  </label>

                  <label for="na" class="checkbox-wrapper">
                    <input type="checkbox" value="Not Available" name="remcb" id="na">
                    <label for="na">Not Available But Resides Here</label>
                  </label>
                </div>
              </div>
          </div>
        </div>
    
      </div>
      
    </div>
        <div class="bigdiv flex-wrap bigdiv2">
        
          
        </div>
        oiasjdij
    <script>
      var expanded = false;
      function showCheckBoxes() {
         var checkboxes = document.getElementById('checkboxes');
         if (!expanded){
            checkboxes.style.display = "block";
            expanded = true;
         }else {
            checkboxes.style.display = "none";
            expanded = false;
         }
      }
   </script>
      {% include 'recoveryajax.html' %}
        <script>
          config={
            enableTime: true,
            dateFormat: "d-m-Y ",
            altInput: true,
            altFormat: "F j, Y",
          
      }
          flatpickr("input[type=datetime-local]",config);


          $(document).ready(function(){
            $(".cmssel").addClass("active-page")
          // $(".cal-icon").on("click", function () {
          //     $('.rtodate').click()

          let rsfil=sessionStorage.getItem("sortval2")
          rsfil = rsfil.split(',')
          $('#checkboxes').find('input[name=remcb]').each(function(){
          if (rsfil.includes($(this).val())){
            $(this).attr('checked',true)
          }
      })
          console.log("resfilter",rsfil)
          $('.c1').click(function(){
        $('.cal1').click()
      })

      $('.c2').click(function(){
        $('.cal2').click()
      })
          });


          $(document).on("click", function (event) {
      // If the target is not the container or a child of the container, then process
      // the click event for outside of the container.

      if ($(event.target).parent().attr('id') != "checkboxes" ){
        $('#checkboxes').css({'display':'none'})
      }

 
      if ($(event.target).attr('class') == "overselect" ){
        console.log("You");
        $('#checkboxes').css({'display':'block'})
      }
});
        </script>

            {% endblock content %}

