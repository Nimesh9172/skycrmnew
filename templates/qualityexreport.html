{% extends 'qualitynavbar.html' %}
{% load static %}
<body>


{% block content %}
{% include "style.html" %}
<style>
  .cal-con{
    width: 32%;
    min-width: 235px;
  }
  
  .uploadinput-div1{
    width: 40%;
    padding-left: 0;
    min-width: 150px;
  }
  
  .uploadinput-div2{
    width: 27%;
    min-width: 150px;
    padding-left: 0;
    
  }
  
  .uploadinput-div3{
    width: 27%;
    min-width: 150px;
    padding-left: 0;
    
  }
  .ots-filter{
        width: 120px;
      }

      .select2-container .select2-selection--single{
        height: 33px;
      }

      .select2-container--default .select2-selection--single .select2-selection__rendered {
        line-height: 35px;
      }
      .select2-container--default .select2-selection--single{
        border-radius: 8px;
        background-color: #ffffff;
        box-shadow: 0px 0px 4px rgb(0 0 0 / 25%);
        border: none;
      }
      .select2-container--default .select2-selection--single .select2-selection__arrow{
        top: 4px;
      }
      .sortby-div >.select2-container--default .select2-selection--single .select2-selection__rendered{
        padding-left: 38px; 
      }

      .uploaddiv{
        box-shadow: 0px 0px 4px rgb(0 0 0 / 25%);
        background: #F6F5FA;
      }
      .exportbtn{
        margin-bottom: 17px;
      }
.flatpickr-time{
  display: none;
}
  @media screen and (max-width: 512px){
    .uploaddiv{
      margin-left: 97px;
      width: 72%;
    }
  }
  
</style>
<form action="" method="post">
<div class="row">
    {% csrf_token %}
    <div class="dash">Data Export</div>
    <div class="uploaddiv" style="min-height: 0px;">
        <div class="row mt-3 firstrow gap-3">
            <div class="uploadinput-div1">
              <select name="sel1" id="" class="exp1">
                <option value="">Select Campaign</option>
                {% for i in cmp %}
                <option value="{{i.campaign_id}}">{{i.campaign_name}}</option> 
                {% endfor %}
              </select>
            </div>
            <div class="uploadinput-div2 ">
              <select id="" class="exp2" name="sel2">
                <option value="">Select Agent</option>
                <option value="all">All</option>
                {% for i in s %}
                <option value="{{i.agent}}">{{i.agent}}</option>
                {% endfor %}
            </select>
            </div>
            <div class="uploadinput-div3 pl-0">
              <select name="sel3" id="" class="exp3">
                <option value="">Select Criteria2</option>
            </select>
            </div>
          </div>
          <div class="d-flex flex-wrap gap-3" style="margin-top: 20px;" >
           <div class="cal-con">
              <img class="cal-icon c1" src="{% static 'Images/cal.png' %}" class="calender" alt="">
              <input class="form-control cal1 startdate" name="sdate" type="datetime-local" placeholder="Start date">
            </div>
        
            <div  class="cal-con">
              <img class="cal-icon c2" src="{% static 'Images/cal.png' %}" alt="">
              <input class="form-control cal2 enddate" name="edate" type="datetime-local" placeholder="End date">
            </div>
         
           <input type="submit" placeholder="Submit" class="exportbtn">
          </form>
        </div>
          

          </div>
        </div>


        
  <script>
    config={
  enableTime: true,
  dateFormat: "d-m-Y ",
  altInput: true,
  altFormat: "F j, Y",
  
}
  flatpickr("input[type=datetime-local]",config);


  $(document).ready(function(){
    
   
      $("#selectval").change(function(){
       
        $(this).closest('form').submit();
       
      });
      $("#form-post").change(function(){
          $(this).closest("form").submit();
      })

      $('.c1').click(function(){
        $('.cal1').click()
      })
  });
  
  if ( window.history.replaceState ) {
      window.history.replaceState( null, null, window.location.href );
    }

   
</script>
  
{% endblock content %}